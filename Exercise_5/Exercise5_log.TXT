NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

562  
563  /* Load files */
564  FILENAME in_brr 'C:\Data\xptfiles\h36brr18.ssp';
565  proc xcopy in = in_brr out = WORK IMPORT;
566  run;

NOTE: Input library IN_BRR is sequential.
NOTE: Copying IN_BRR.H36BRR18 to WORK.H36BRR18 (memtype=DATA).
NOTE: There were 418733 observations read from the data set IN_BRR.H36BRR18.
NOTE: The data set WORK.H36BRR18 has 418733 observations and 132 variables.
NOTE: PROCEDURE XCOPY used (Total process time):
      real time           1.57 seconds
      cpu time            1.57 seconds
      

567  
568  %LET DataFolder = C:\DATA\MySDS;  /* Adjust the folder name, if needed */
569  libname CDATA "&DataFolder";
NOTE: Libref CDATA was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: C:\DATA\MySDS
570  
571  %let kept_vars_2018 =  DUPERSID PERWT: VARSTR VARPSU TOTEXP: SEX;
572  data meps_2018x;
573   set CDATA.h209 (keep= &kept_vars_2018);
574  run;

NOTE: There were 30461 observations read from the data set CDATA.H209.
NOTE: The data set WORK.MEPS_2018X has 30461 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.11 seconds
      cpu time            0.11 seconds
      

575  /* Merge BRR replicate weights onto FYC file */
576  proc sort data = h36brr18 nodupkey; by DUPERSID; run;

NOTE: There were 418733 observations read from the data set WORK.H36BRR18.
NOTE: 22254 observations with duplicate key values were deleted.
NOTE: The data set WORK.H36BRR18 has 396479 observations and 132 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.76 seconds
      cpu time            0.82 seconds
      

577  proc sort data =meps_2018x nodupkey; by DUPERSID; run;

NOTE: There were 30461 observations read from the data set WORK.MEPS_2018X.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.MEPS_2018X has 30461 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.03 seconds
      

578  
579  data fyc_brr;
580      merge
581          meps_2018x (in = a)
582          h36brr18;
583      by DUPERSID;
584      if a;
585  
586      /* Multiply BRR Weights by 2 and PERWT17F */
587      array BRR  {*} BRR1-BRR128;
588      array BRRW {*} BRRW1-BRRW128;
589      do i = 1 to 128;
590          BRRW{i} = 2*BRR{i}*PERWT18F;
591      end;
592  run;

NOTE: There were 30461 observations read from the data set WORK.MEPS_2018X.
NOTE: There were 396479 observations read from the data set WORK.H36BRR18.
NOTE: The data set WORK.FYC_BRR has 30461 observations and 266 variables.
NOTE: DATA statement used (Total process time):
      real time           0.24 seconds
      cpu time            0.25 seconds
      

593  title 'MEPS 2018';
594  ods graphics off;
595  title 'Default Standard Errors using Taylor Series expansion';
596  PROC SURVEYMEANS DATA = meps_2018x mean median clm;
597      STRATA  VARSTR ;
598      CLUSTER VARPSU;
599      WEIGHT PERWT18f;
600      var totexp18;
601      DOMAIN sex;
602  RUN;

NOTE: Due to nonpositive weights, 1046 observation(s) were deleted.
NOTE: PROCEDURE SURVEYMEANS used (Total process time):
      real time           0.15 seconds
      cpu time            0.15 seconds
      

603  
604  title 'BRR standard errors using REPWEIGHTS';
605  PROC SURVEYMEANS DATA = fyc_brr varmethod=brr mean median clm;
606      WEIGHT PERWT18F;
607      REPWEIGHTS BRRW1-BRRW128;
608      var totexp18;
609      DOMAIN sex;
610  RUN;

NOTE: Due to nonpositive weights, 1046 observation(s) were deleted.
NOTE: PROCEDURE SURVEYMEANS used (Total process time):
      real time           18.31 seconds
      cpu time            17.92 seconds
      

611  title;
612  proc printto;
613  run;

