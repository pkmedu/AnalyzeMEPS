NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

615  options obs=max nocenter nodate nonumber formchar="|----|+|---+=|-/\<>*" ;
616  
617  /*******************************************************************
618  * RUN logistic regression model (PROC SURVEYLOGISTIC) Predictors of the receipt of flu shot
619  ********************************************************************/
620  
621  PROC FORMAT;
622  
623  value age18p_f
624      18-high = '18+'
625      other = '0-17';
NOTE: Format AGE18P_F is already on the library WORK.FORMATS.
NOTE: Format AGE18P_F has been output.
626  
627  
628  value age_f
629      18-34 = '18-34'
630      35-64 = '35-64'
631      65-High ='65+';
NOTE: Format AGE_F is already on the library WORK.FORMATS.
NOTE: Format AGE_F has been output.
632  
633  value ADFLST42_fmt
634      -15 = "Cann't be computed"
635      -1 = 'Inapplicable'
636      1  = 'Yes'
637      0,2  ='No';
NOTE: Format ADFLST42_FMT is already on the library WORK.FORMATS.
NOTE: Format ADFLST42_FMT has been output.
638  
639  
640  value sex_fmt   1 = 'Male'
641                  2 = 'Female';
NOTE: Format SEX_FMT is already on the library WORK.FORMATS.
NOTE: Format SEX_FMT has been output.
642  
643  
644  VALUE Racethx_fmt
645    1 = 'Hispanic'
646    2 = 'NH White only'
647    3 = 'NH Black only'
648    4 = 'NH Asian only'
649    5 = 'NH Other etc';
NOTE: Format RACETHX_FMT is already on the library WORK.FORMATS.
NOTE: Format RACETHX_FMT has been output.
650  
651  
652  
653  value povcat_fmt
654     1 = 'POOR'
655     2 = 'NEAR POOR'
656     3 = 'LOW INCOME'
657     4 = 'MIDDLE INCOME'
658     5 = 'HIGH INCOME' ;
NOTE: Format POVCAT_FMT is already on the library WORK.FORMATS.
NOTE: Format POVCAT_FMT has been output.
659  
660     value INSCOV18_fmt
661     1 = 'Any Private'
662     2 = 'Public Only'
663     3 = 'Uninsured';
NOTE: Format INSCOV18_FMT is already on the library WORK.FORMATS.
NOTE: Format INSCOV18_FMT has been output.
664  run;

NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

665  
666  %LET DataFolder = C:\DATA\MySDS;  /* Adjust the folder name, if needed */
667  libname CDATA "&DataFolder";
NOTE: Libref CDATA was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: C:\DATA\MySDS
668  %let kept_vars_2018 =  VARSTR VARPSU perwt18f saqwt18f ADFLST42  AGELAST RACETHX POVCAT18 INSCOV18 SEX;
669  data meps_2018;
670   set CDATA.h209 (keep= &kept_vars_2018);
671  
672  if ADFLST42 = 1 then flushot =1;
673  else if ADFLST42 = 2 then flushot =0;
674  else flushot =.;
675  run;

NOTE: There were 30461 observations read from the data set CDATA.H209.
NOTE: The data set WORK.MEPS_2018 has 30461 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
      

676  
677  title " 2018 MEPS";
678  
679  ods graphics off;
680  ods select domain;
681  PROC SURVEYMEANS DATA=meps_2018 nobs mean stderr ;
682      VAR flushot;
683      STRATUM VARSTR;
684      CLUSTER VARPSU;
685      WEIGHT saqwt18f;
686      DOMAIN  agelast('18+')*POVCAT18;
687      format agelast age18p_f. flushot  POVCAT18  POVCAT_fmt.;
688  RUN;

NOTE: Due to nonpositive weights, 10891 observation(s) were deleted.
NOTE: Only one cluster in a stratum for PERSON'S AGE LAST TIME ELIGIBLE*FAMILY INC AS % OF POVERTY LINE - CATEGO domains for 
      variable(s) flushot. The estimate of variance for flushot will omit this stratum.
NOTE: PROCEDURE SURVEYMEANS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

689  
690  PROC SURVEYLOGISTIC DATA=meps_2018;
691      STRATUM VARSTR;
692       CLUSTER VARPSU;
693     WEIGHT saqwt18f;
694      CLASS sex(ref='Male')
695                 RACETHX  (ref='NH White only')
696                 POVCAT18 (ref='HIGH INCOME')
697                 INSCOV18 (ref='Any Private') /param=glm;
698           model flushot(ref= '0')= sex RACETHX  POVCAT18 INSCOV18;
699       lsmeans povcat18 /diff ilink;
700       format agelast age18p_f.
701        sex sex_fmt.
702        RACETHX racethx_fmt.
703        INSCOV18 INSCOV18_fmt.
704        POVCAT18  POVCAT_fmt.;
705      RUN;

NOTE: PROC SURVEYLOGISTIC is modeling the probability that flushot=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: PROCEDURE SURVEYLOGISTIC used (Total process time):
      real time           0.36 seconds
      cpu time            0.35 seconds
      

706  
707  
708  
709      ********************* reproduce Emily's results ;
710      PROC SURVEYLOGISTIC DATA=meps_2018;
711      STRATUM VARSTR;
712       CLUSTER VARPSU;
713     WEIGHT saqwt18f;
714      CLASS sex(ref='Male')
715                 RACETHX  (ref='Hispanic')
716                 INSCOV18 (ref='Any Private') ;
717           model flushot(ref= '0')= agelast sex RACETHX  INSCOV18;
718        format agelast age18p_f.
719        sex sex_fmt.
720        RACETHX racethx_fmt.
721        INSCOV18 INSCOV18_fmt.;
722      RUN;

NOTE: PROC SURVEYLOGISTIC is modeling the probability that flushot=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: PROCEDURE SURVEYLOGISTIC used (Total process time):
      real time           0.23 seconds
      cpu time            0.23 seconds
      

723  
724  proc printto;
725  run;

